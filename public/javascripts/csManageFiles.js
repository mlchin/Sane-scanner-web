function selectRadio(rowClick){const index=rowClick.rowIndex,rows=document.getElementsByClassName("clickable-row");for(let i=0;i<rows.length;i++)rows[i].style.backgroundColor=(i+1)%2==0?"#ffffff":"#f9f9f9";document.getElementById("row"+index).style.backgroundColor="#def0de",document.getElementById("btnRadio"+index).checked=!0,document.getElementById("btnDownload").disabled=!1,document.getElementById("btnDelete").disabled=!1}var _funClickable=function(){selectRadio(this)};function add_event_clickable(){const rows=document.getElementsByClassName("clickable-row");for(let i=0;i<rows.length;i++)rows[i].addEventListener("click",_funClickable)}function remove_event_clickable(){const rows=document.getElementsByClassName("clickable-row");for(let i=0;i<rows.length;i++)rows[i].removeEventListener("click",_funClickable)}function initPage(){const radioBtns=document.getElementsByName("filename");for(let i=0;i<radioBtns.length;i++)radioBtns[i].checked=!1;document.getElementById("btnDownload").disabled=!0,document.getElementById("btnDownload").addEventListener("click",onClickDownload),document.getElementById("btnDelete").disabled=!0,document.getElementById("btnDelete").addEventListener("click",onClickDelete)}function downloadForm(filename){var form=document.createElement("form");form.setAttribute("method","POST"),form.setAttribute("action","/manage/download"),document.body.appendChild(form);var input1=document.createElement("input");input1.setAttribute("name","filename"),input1.setAttribute("type","hidden"),input1.setAttribute("value",filename),form.appendChild(input1);const button_section=document.getElementById("button_section");for(;button_section.firstChild;)button_section.removeChild(button_section.firstChild);button_section.appendChild(document.createElement("div"));const alert_div=button_section.firstChild;alert_div.classList.add("alert","alert-info"),alert_div.setAttribute("role","alert"),alert_div.style.marginTop="10px",alert_div.appendChild(document.createElement("h5")),alert_div.lastChild.innerHTML="Downloading in progress...",alert_div.lastChild.classList.add("text-bold"),button_section.appendChild(document.createElement("button")),button_section.lastChild.classList.add("btn","btn-primary","btn-lg"),button_section.lastChild.type="button",button_section.lastChild.innerHTML="Continue",button_section.lastChild.style.marginRight="5px",button_section.lastChild.addEventListener("click",(function(){location.reload()})),form.submit()}function onClickDownload(){const button_section=document.getElementById("button_section");for(;button_section.firstChild;)button_section.removeChild(button_section.firstChild);const radioBtns=document.getElementsByTagName("input");for(let i=0;i<radioBtns.length;i++)if(radioBtns[i].checked){var filename=radioBtns[i].value;radioBtns[i].parentNode.parentNode.style.backgroundColor="#d9edf7"}else radioBtns[i].disabled=!0;remove_event_clickable(),button_section.appendChild(document.createElement("div"));const alert_div=button_section.firstChild;alert_div.classList.add("alert","alert-info"),alert_div.setAttribute("role","alert"),alert_div.style.marginTop="10px",alert_div.appendChild(document.createElement("h4")),alert_div.lastChild.innerHTML="File to download: ",alert_div.lastChild.classList.add("text-bold"),alert_div.appendChild(document.createElement("h5")),alert_div.lastChild.innerHTML=filename,button_section.appendChild(document.createElement("button")),button_section.lastChild.classList.add("btn","btn-primary"),button_section.lastChild.type="button",button_section.lastChild.innerHTML="Proceed",button_section.lastChild.style.marginRight="5px";button_section.lastChild.addEventListener("click",(function(){downloadForm(filename.trim())})),button_section.appendChild(document.createElement("button")),button_section.lastChild.classList.add("btn","btn-default"),button_section.lastChild.type="button",button_section.lastChild.innerHTML="Cancel",button_section.lastChild.addEventListener("click",(function(){location.reload()}))}function deleteForm(filename){var form=document.createElement("form");form.setAttribute("method","POST"),form.setAttribute("action","/manage/delete"),document.body.appendChild(form);var input1=document.createElement("input");input1.setAttribute("name","filename"),input1.setAttribute("type","hidden"),input1.setAttribute("value",filename),form.appendChild(input1);const button_section=document.getElementById("button_section");for(;button_section.firstChild;)button_section.removeChild(button_section.firstChild);button_section.appendChild(document.createElement("div"));const alert_div=button_section.firstChild;alert_div.classList.add("alert","alert-danger"),alert_div.setAttribute("role","alert"),alert_div.style.marginTop="10px",alert_div.appendChild(document.createElement("h5")),alert_div.lastChild.innerHTML="File being deleted...",alert_div.lastChild.classList.add("text-bold"),form.submit()}function onClickDelete(){const button_section=document.getElementById("button_section");for(;button_section.firstChild;)button_section.removeChild(button_section.firstChild);const radioBtns=document.getElementsByTagName("input");for(let i=0;i<radioBtns.length;i++)if(radioBtns[i].checked){var filename=radioBtns[i].value;radioBtns[i].parentNode.parentNode.style.backgroundColor="#f2dede"}else radioBtns[i].disabled=!0;remove_event_clickable(),button_section.appendChild(document.createElement("div"));const alert_div=button_section.firstChild;alert_div.classList.add("alert","alert-danger"),alert_div.setAttribute("role","alert"),alert_div.style.marginTop="10px",alert_div.appendChild(document.createElement("h4")),alert_div.lastChild.innerHTML="File deleted <u>CANNOT</u> be recovered. Press CONFIRM to proceed.",alert_div.lastChild.classList.add("text-bold"),alert_div.appendChild(document.createElement("h5")),alert_div.lastChild.innerHTML="<strong>File to DELETE: </strong>"+filename,alert_div.appendChild(document.createElement("h5")),alert_div.lastChild.innerHTML="",button_section.appendChild(document.createElement("button")),button_section.lastChild.classList.add("btn","btn-danger"),button_section.lastChild.type="button",button_section.lastChild.innerHTML="Confirm",button_section.lastChild.style.marginRight="5px";button_section.lastChild.addEventListener("click",(function(){deleteForm(filename.trim())})),button_section.appendChild(document.createElement("button")),button_section.lastChild.classList.add("btn","btn-default"),button_section.lastChild.type="button",button_section.lastChild.innerHTML="Cancel",button_section.lastChild.addEventListener("click",(function(){location.reload()}))}